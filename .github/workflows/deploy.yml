name: Deploy to AWS
run-name: ${{ github.actor }} deploying to AWS
on:
  push:
    branches:
      - cdk
jobs:
  Deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Install Modelica Dependencies
        run: |
          cd server
          npm i
          npm run install-modelica-deps

      - name: Run modelica template generator
        run: |
          cd dependencies
          node modelica-json/app.js -f modelica-buildings/Buildings/Templates -o json -d template-json
          ls
          ls -al template-json
